% file: sections/dag.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}<presentation:0>[noframenumbering]
  \centerline{\large On digraphs:}
  \[
	\nexists\; \text{back edge} \iff \text{ DAG } \iff \exists \red{\text{ topo. ordering}}
  \]

  \pause
  \begin{block}{\textsc{Toposort} by Tarjan \teal{\small (probably)}, 1976}
    \vspace{0.30cm}
    \[
      \nexists \text{ cycle} \implies \red{\boxed{u \to v \iff \text{f}[v] < \text{f}[u]}}
    \]

    \vspace{0.50cm}
    \centerline{Sort vertices in \textcolor{blue}{\emph{decreasing}} order of their \textcolor{blue}{\emph{finish}} times.}
  \end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}<presentation:0>[noframenumbering]
  \begin{exampleblock}{Kahn's \textsc{Toposort} algorithm ($1962$; Problem $4.16$) }
    \begin{itemize}
      \setlength{\itemsep}{5pt}
      \item \red{Queue $Q$} for source vertices ($\text{in}[v] = 0$)
	  \item \red{Repeat:} $\textsc{Dequeue}(\red{\exists u \in Q})$, output $u$ \\[6pt]
	\hspace{1.3cm} delete $u$ and $u \to v$ from $Q$, \\[5pt]
	\hspace{1.3cm} $\textsc{Enqueue}(v)$ if $\text{in}[v] = 0$
    \end{itemize}
  \end{exampleblock}

  \pause
  \[
    O(m + n)
  \]

  \pause
  \begin{lemma}[Correctness of Kahn's \textsc{Toposort}]
    Every DAG has at least one source (and at least one sink vertex).
  \end{lemma}

  \pause
  \vspace{0.50cm}
  \centerline{\red{$Q:$ What if $G$ is {\it not} a DAG?}}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}<presentation:0>[noframenumbering]
  \begin{exampleblock}{Taking courses in few semesters (Problem $4.20$)}
    \begin{itemize}
      \item $n$ courses
      \item $m$ of $c_1 \to c_2$: prerequisite
      \item Goal: taking courses in few semesters
    \end{itemize}
  \end{exampleblock}

  \pause
  \vspace{0.60cm}
  \centerline{\red{\large Critical path \emph{OR} Longest path} using DFS in $O(n + m)$}

  \pause
  \vspace{0.80cm}
  \centerline{For general digraph, \teal{LONGEST-PATH} is NP-hard.}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}<presentation:0>[noframenumbering]
  \begin{exampleblock}{Line up (Problem $4.22$)}
    \begin{enumerate}
      \item $i$ hates $j$: $i \succ j$
      \item $i$ hates $j$: $\# i < \# j$
    \end{enumerate}
  \end{exampleblock}

  \vspace{0.50cm}
  \begin{center}
    \textsc{Toposort} \\[8pt]

    Critical path \emph{OR} Longest path
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{exampleblock}{Hamiltonian path in DAG (Problem $4.14$)}
    \begin{center}
      HP: path visiting each vertex once \\[8pt]

      \red{$Q:$ $\exists$ HP in a DAG in $O(n + m)$}
    \end{center}
  \end{exampleblock}

  \pause
  \vspace{0.60cm}
  \centerline{\teal{For general (di)graph, HP is NP-hard.}}

  \pause
  \vspace{0.50cm}
  \fig{width = 0.70\textwidth}{figs/hamiltonian-path-dag}

  \pause
  \[
    \red{\boxed{\text{DAG: } \exists \text{ HP} \iff \exists! \text{ topo. ordering}}}
  \]
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \[
    \red{\boxed{\text{DAG: } \exists \text{ HP} \iff \exists! \text{ topo. ordering}}}
  \]

  \pause
  \[
	\blue{\Longleftarrow}
  \]
  \[
	\text{ By contradiction; Perform Toposort; Swap}
  \]

  \fig{width = 0.70\textwidth}{figs/hamiltonian-path-dag-topo}

  \pause
  \vspace{0.60cm}
  \centerline{Tarjan's \textsc{Toposort} + \red{Check edges $(v_i, v_{i+1})$}}

  % \pause
  % \vspace{0.30cm}
  % \centerline{Kahn's \textsc{Toposort} \teal{\small (Problem $4.16$)}}
  % \pause
  % \[
  %   |Q| \le 1
  % \]
\end{frame}
%%%%%%%%%%%%%%%%%%%%
