% file: section/floyd-warshall.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \fignocaption{width = 0.60\textwidth}{figs/floyd-warshall}

  \[
    \dist(i,j,k) = \min\Big(\dist(i,j,k-1), \dist(i,k,k-1) + \dist(k,j,k-1)\Big)
  \]

  \[
    \red{\# k's = 1}
  \]
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \input{algs/floyd-warshall-alg}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}<presentation:0>[noframenumbering]
  \begin{exampleblock}{Bellman-Ford algorithm (Problem 6.30)}
    \begin{itemize}
      \item digraph $G = (V, E), \exists e: w(e) < 0$
      \item $\forall s, t: |s \leadsto^{\SP} t| \le k$
      \item Given $s,t$, find $s \leadsto^{\SP} t$.
    \end{itemize}
  \end{exampleblock}

  $\text{d}(v,k)$: shortest path distance from $s$ to $v$ using $\le k$ edges

  \[
    s \leadsto^{\SP; \le k-1} u \to^{=1} v
  \]

  \[
    \text{d}(v, k) = \min_{u \in N(v)} \text{d}(u, k-1) + w(u,v)
  \]

  \begin{center}
    \begin{minipage}{0.50\linewidth}
      \begin{algorithmic}[c]
	\ForAll{$i = 1 \to n - 1$}
	  \ForAll{$e \in E$}
		\State update $e$
	  \EndFor
	\EndFor
      \end{algorithmic}
    \end{minipage}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{exampleblock}{Max-Min Path (Problem $13.2\; (2)$)}
    \[
      G = (V, E): \text{ network of oil pipelines}
    \]
    \[
      c(u,v): \text{ capacity of } (u,v)
    \]
    \[
      \text{cap}(s,t): \max \min s \leadsto t
    \]
      
    \vspace{0.30cm}
    \centerline{\teal{Compute all-pair $\text{cap}(u,v)$.}}
  \end{exampleblock}

  \pause
  \[
    \text{cap}(u,v,k) = \red{\max}\Big(\text{cap}(u,v,k-1), \red{\min}\big(\text{cap}(u,k,k-1), \text{cap}(k,v,k-1)\big)\Big)
  \]
\end{frame}
%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{exampleblock}{Routing table (Problem $13.1$)}
    \[
      \text{Go}(i,j) = k \implies v_i \to v_k \leadsto v_j
    \]

    Contruct routing table and extract shortest paths from it.
  \end{exampleblock}

  \pause
  \vspace{0.30cm}
  \begin{columns}
    \column{0.50\textwidth}
      \[
	\text{Go}(i,j) \gets \text{Nil}
      \]
      \[
	\forall (i,j) \in E: \text{Go}(i,j) \gets j
      \]

      \begin{algorithmic}
	\If{$\dots$}
	  \State $\text{Go}(i,j) \gets \text{Go}(i,k)$
	\EndIf
      \end{algorithmic}
    \column{0.50\textwidth}
      \begin{algorithmic}
	\If{$Go(i,j) = \text{Nil}$}
	  \State $\dots$
	\EndIf

	\Statex
	\While{$i \neq j$}
	  \State $i \gets \text{Go}(i,j)$
	\EndWhile
      \end{algorithmic}
  \end{columns}

  \pause
  \vspace{0.50cm}
  \[
    \text{Prev}(i,j) \gets \text{Prev}(k,j)
  \]

  \pause
  \[
    \text{Intermediate}(i,j) \gets k
  \]
\end{frame}
%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{exampleblock}{Shortest Cycle in Digraph (Problem $13.9$)}
    Find shortest cycle in digraph $G = (V, E), \quad w(e) > 0$.
  \end{exampleblock}

  \pause
  \vspace{0.50cm}
  \centerline{Initialize $\dist[v][v] \gets \infty$ in Floyd-Warshall algorithm} 

  \pause
  \[
    \exists v: \dist[v][v] < \infty
  \]

  \pause
  \[
    \forall v: \dist[v][v] = \infty
  \]
\end{frame}
%%%%%%%%%%%%%%%%%%%%
